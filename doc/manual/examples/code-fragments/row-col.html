<html>
  <head>
    <meta charset="UTF-8">
    <title>Block Code Layouts</title>
    <style>
     * {
         box-sizing: border-box;
     }

     row {
         display: flex;
         align-items: baseline;
         border: 3px solid transparent;
         border-radius: 5px;
     }

     row:hover {
         border-color: green;
     }

     row.single {
         flex-direction: column;
     }

     row.wrap {
         flex-wrap: wrap;
     }

     block {
         display: inline-block;
         border: 1px solid transparent;
         border-radius: 5px;
         padding: 1px;
         margin: 1px;
     }

     block:hover, .boxes block {
         border: 1px solid blue;
     }

     .comma-suffix {
         display: flex;
         align-items: baseline;
     }

     .comma-suffix:not(:last-of-type):after {
         content: ",";
     }

     indent {
         margin-left: 10px;

         display: flex;
         flex-direction: column;

         border: 3px solid transparent;
         border-radius: 5px;
     }

     indent:hover {
         border-color: fuchsia;
     }

     terminal {
         display: inline-block;
         white-space: nowrap;
     }
    </style>
  </head>
  <!-- Add class "boxes" to always show boxes -->
  <body class="boxes">
    <h1>JavaScript</h1>
    <block>
      <row>
        <terminal>while(</terminal>
        <block>true</block>
        <terminal>)</terminal>
        <terminal>{</terminal>
      </row>
      <indent>
        <row>
          <block>
            <terminal>goForward()</terminal>
          </block>
        </row>
        <row>
          <block>
            <terminal>goForward()</terminal>
          </block>
        </row>
      </indent>
      <row>
        <terminal>}</terminal>
      </row>
    </block>

    <h1>SQL</h1>
    <block class="sql-query">
      <row>
        <block class="sql-select">
          <row>
            <terminal>SELECT</terminal>
            <row class="wrap single">
              <div class="comma-suffix">
                <block class="sql-column">
                  <terminal>vname</terminal>
                </block>
              </div>
              <div class="comma-suffix">
                <block class="sql-column">
                  <terminal>nname</terminal>
                </block>
              </div>
              <div class="comma-suffix">
                <block class="sql-column">
                  <terminal>postleitzahl</terminal>
                </block>
              </div>
              <div class="comma-suffix">
                <block class="sql-column">
                  <terminal>wohnort</terminal>
                </block>
              </div>
            </row>
          </row>
        </block>
      </row>
      <row>
        <block class="sql-from">
          <row>
            <terminal>FROM</terminal>
            <block>
              <terminal>person</terminal>
            </block>
          </row>
          <indent>
            <row>
              <block>
                <row>
                  <terminal>NATURAL JOIN</terminal>
                  <block>
                    <terminal>adresse</terminal>
                  </block>
                </row>
              </block>
            </row>
          </indent>
        </block>
      </row>
      <row>
        <block>
          <row>
            <terminal>WHERE</terminal>
            <block class="sql-bin-exp">
              <row>
                <block class="sql-const">
                  <terminal>alter</terminal>
                </block>
                <terminal>!=</terminal>
                <block class="sql-const">
                  <terminal>schuhgröße</terminal>
                </block>
              </row>
            </block>
          </row>
          <indent>
            <row>
              <block>
                <row class="wrap">
                  <terminal>AND</terminal>
                  <block class="sql-bin-exp">
                    <row>
                      <block class="sql-const">
                        <terminal>vname</terminal>
                      </block>
                      <terminal>!=</terminal>
                      <block class="sql-const">
                        <terminal>nname</terminal>
                      </block>
                    </row>
                  </block>
                </row>
              </block>
            </row>
          </indent>
        </block>
      </row>
    </block>

    <h1>XML</h1>
    <block>
      <row>
        <terminal>&lt;parent&gt;</terminal>
      </row>
      <indent>
        <row>
          <block>
            <row>
              <terminal>&lt;child</terminal>
              <row class="wrap">
                <block>
                  <row>
                    <terminal>a="b"</terminal>
                  </row>
                </block>
                <block>
                  <row>
                    <terminal>a="b"</terminal>
                  </row>
                </block>
                <block>
                  <row>
                    <terminal>a="b"</terminal>
                  </row>
                </block>
                <block>
                  <row>
                    <terminal>a="b"</terminal>
                  </row>
                </block>
                <block>
                  <row>
                    <terminal>a="b"</terminal>
                  </row>
                </block>
              </row>
              <terminal>&gt;</terminal>
            </row>
            <row>
              <terminal>&lt;/child&gt;</terminal>
            </row>
          </block>
        </row>
      </indent>
      <row>
        <terminal>&lt;/parent&gt;</terminal>
      </row>
    </block>

    <h1>CSS</h1>
    <block>
      <row>
        <!-- h1 { } -->
        <block>
          <row>
            <block>
              <row>
                <terminal>h1</terminal>
              </row>
            </block>
            <terminal>{</terminal>
          </row>
          <row>
            <terminal>}</terminal>
          </row>
        </block>
      </row>
      <row>
        <!-- h1 + h2 { } -->
        <block>
          <row>
            <block>
              <row>
                <terminal>h1</terminal>
              </row>
            </block>
            <block>
              <row>
                <terminal>+</terminal>
              </row>
            </block>
            <block>
              <row>
                <terminal>h2</terminal>
              </row>
            </block>
            <terminal>{</terminal>
          </row>
          <row>
            <terminal>}</terminal>
          </row>
        </block>
      </row>
      <row>
        <!-- *:hover q { color: red; } -->
        <block>
          <row>
            <block>
              <row>
                <terminal>*</terminal>
              </row>
            </block>
            <block>
              <row>
                <terminal>:hover</terminal>
              </row>
            </block>
            <block>
              <row>
                <terminal>␣</terminal>
              </row>
            </block>
            <block>
              <row>
                <terminal>q</terminal>
              </row>
            </block>
            <terminal>{</terminal>
          </row>
          <row>
            <block>
              <row>
                <terminal>color:</terminal>
                <block>
                  <row>
                    red
                  </row>
                </block>
              </row>
            </block>
          </row>
          <row>
            <terminal>}</terminal>
          </row>
        </block>
      </row>
    </block>

    <h1>JSON</h1>
    <block>
      <row>
        <terminal>{</terminal>
        <block>
          <row>"key"</row>
        </block>
        <terminal>:</terminal>
        <block>
          <row>42</row>
        </block>
        <terminal>}</terminal>
      </row>
    </block>

    <hr>

    <block>
      <row>
        <row class="single">
          <terminal>{</terminal>
          <block>
            <row>
              <block>
                <row>"key"</row>
              </block>
              <terminal>:</terminal>
              <block>
                <row>42</row>
              </block>
            </row>
          </block>
          <block>
            <block>
              <row>"key"</row>
            </block>
            <terminal>:</terminal>
            <block>
              <row>42</row>
            </block>
          </block>
          <terminal>}</terminal>
        </row>
      </row>
    </block>

    <hr>

    <h2>With pure CSS Between Character</h2>
    <block>
      <row>
        <row class="single">
          <terminal>[</terminal>
          <div class="comma-suffix">
            <block>
              <row>
                <block>
                  <row>"key"</row>
                </block>
                <terminal>:</terminal>
                <block>
                  <row>42</row>
                </block>
              </row>
            </block>
          </div>
          <div class="comma-suffix">
            <block>
              <row>42</row>
            </block>
          </div>
          <div class="comma-suffix">
            <block>
              <row>
                <terminal>[</terminal>
                <div class="comma-suffix">
                  <block>
                    <row>1</row>
                  </block>
                </div>
                <div class="comma-suffix">
                  <block>
                    <row>2</row>
                  </block>
                </div>
                <div class="comma-suffix">
                  <block>
                    <row>3</row>
                  </block>
                </div>
                <terminal>]</terminal>
              </row>
            </block>
          </div>
          <terminal>]</terminal>
        </row>
      </row>
    </block>
    <script>
     Array.from(document.querySelectorAll('row'))
          .forEach(
              elem => elem.addEventListener('click', e => {
                  e.stopPropagation();
                  elem.classList.toggle("single");
              })
          );
    </script>
  </body>
</html>
